fは再帰関数ではないので末尾呼び出しの最適化はできない。
funcは再帰関数のようだが、外部関数でコードがわからない。
